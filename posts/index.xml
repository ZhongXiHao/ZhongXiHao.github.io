<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Posts on Midsnk</title>
		<link>https://zhongxihao.github.io/posts/</link>
		<description>Recent content in Posts on Midsnk</description>
		<generator>Hugo -- gohugo.io</generator>
		<language>zh-Hans</language>
		<copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
		<lastBuildDate>Wed, 01 Feb 2023 18:23:46 +0800</lastBuildDate>
		<atom:link href="https://zhongxihao.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
		
		<item>
			<title>顆粒狀任意配比調配機器</title>
			<link>https://zhongxihao.github.io/posts/%E9%A1%86%E7%B2%92%E7%8B%80%E4%BB%BB%E6%84%8F%E9%85%8D%E6%AF%94%E8%AA%BF%E9%85%8D%E6%A9%9F%E5%99%A8/</link>
			<pubDate>Wed, 01 Feb 2023 18:23:46 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/%E9%A1%86%E7%B2%92%E7%8B%80%E4%BB%BB%E6%84%8F%E9%85%8D%E6%AF%94%E8%AA%BF%E9%85%8D%E6%A9%9F%E5%99%A8/</guid>
			<description>最後一次編輯於 22:26 1/2/2023 Table Of Contents 簡介 工具與材料 模塊功能介紹 液晶屏 MG90S舵機 按鈕 HX711 傳感器 + 壓力模塊 4x4 薄膜按鍵 使用方法 代碼（Arduino / Mixl</description>
			<content type="html"><![CDATA[<p>最後一次編輯於 <em>22:26 1/2/2023</em>
<div>
    <h2>Table Of Contents</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#簡介">簡介</a></li>
    <li><a href="#工具與材料">工具與材料</a></li>
    <li><a href="#模塊功能介紹">模塊功能介紹</a>
      <ul>
        <li><a href="#液晶屏">液晶屏</a></li>
        <li><a href="#mg90s舵機">MG90S舵機</a></li>
        <li><a href="#按鈕">按鈕</a></li>
        <li><a href="#hx711-傳感器--壓力模塊">HX711 傳感器 + 壓力模塊</a></li>
        <li><a href="#4x4-薄膜按鍵">4x4 薄膜按鍵</a></li>
      </ul>
    </li>
    <li><a href="#使用方法">使用方法</a></li>
    <li><a href="#代碼arduino--mixly">代碼（Arduino / Mixly）</a></li>
    <li><a href="#參考資料">參考資料</a></li>
  </ul>
</nav>
</div></p>
<h2 id="簡介">簡介</h2>
<p>本項目為顆粒狀任意配比調配機器，可以使兩種顆粒狀的物質進行任意比例地混合（各不超過300克），無需人手操作，只須輸入重量及比例即可。
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/front.jpg" alt="項目正面圖">
<figcaption>項目正面圖</figcaption>
</center>
</figure></p>
<p>項目使用Arduino進行編寫，<a href="http://localhost:1313/posts/%E9%A1%86%E7%B2%92%E7%8B%80%E4%BB%BB%E6%84%8F%E9%85%8D%E6%AF%94%E8%AA%BF%E9%85%8D%E6%A9%9F%E5%99%A8/#%E4%BB%A3%E7%A2%BCarduino">程序</a>放在文末。</p>
<p><figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/programming.jpg" alt="程序介面圖">
<figcaption>程序介面圖</figcaption>
</center>
</figure></p>
<h2 id="工具與材料">工具與材料</h2>
<ol>
<li>Arduino UNO AVR板；</li>
<li>I/O Sensor UI板；</li>
<li>LCM 1602 IIC液晶屏；</li>
<li>MG90S舵機*2；</li>
<li>按鈕*3；</li>
<li>4x4 薄膜按鍵；</li>
<li>HX711 傳感器 + 壓力模塊；</li>
<li>礦泉水瓶等其他材料。</li>
</ol>
<h2 id="模塊功能介紹">模塊功能介紹</h2>
<p><figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/info.jpg" alt="項目俯視圖">
<figcaption>項目俯視圖</figcaption>
</center>
</figure></p>
<h3 id="液晶屏">液晶屏</h3>
<p>顯示輸入資料，進度等。</p>
<h3 id="mg90s舵機">MG90S舵機</h3>
<p>控制出口的開關。</p>
<h3 id="按鈕">按鈕</h3>
<p>最左邊用於調高左瓶子內的顆粒物的比例；中間用於調高右瓶子內的顆粒物的比例（每次調高5%，且需要開啟D模式才可）。最右邊用於開始執行傾倒工作（若未輸入質量或左右瓶子比例之和不等於1，則無法執行）。</p>
<h3 id="hx711-傳感器--壓力模塊">HX711 傳感器 + 壓力模塊</h3>
<p>獲取當前質量。</p>
<h3 id="4x4-薄膜按鍵">4x4 薄膜按鍵</h3>
<p><strong>輸入資料，各個按鍵對應功能如下：</strong><br>
數字鍵：輸入質量的數字；<br>
A鍵：自動輸入比例為9: 1，即左瓶子為90%，右瓶子為10%；<br>
B鍵：自動輸入比例為1: 1，即左瓶子為50%，右瓶子為50%；<br>
C鍵：自動輸入比例為1: 9，即左瓶子為10%，右瓶子為90%；<br>
D鍵：開啟自定義調節比例；<br>
*鍵：清零數字；<br>
#鍵：刪除最後一個數字。</p>
<h2 id="使用方法">使用方法</h2>
<ol>
<li>
<p>倒入顆粒狀物質。</p>
</li>
<li>
<p>接入電源（使用插頭或充電寶連接USB-A線即可）。
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/charge.jpg" alt="接入電源">
<figcaption>接入電源</figcaption>
</center>
</figure></p>
</li>
<li>
<p>輸入質量。
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/input.jpg" alt="輸入質量">
<figcaption>輸入質量</figcaption>
</center>
</figure></p>
</li>
<li>
<p>調節比例（使用A、B、C鍵快速自動調節，或開啟D模式手動調節）。
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/mode.jpg" alt="快速調節比例">
<figcaption>快速調節比例</figcaption>
</center>
</figure>
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/adjust.jpg" alt="手動調節比例（僅開啟D模式下可執行）">
<figcaption>手動調節比例（僅開啟D模式下可執行）</figcaption>
</center>
</figure></p>
</li>
<li>
<p>按下最右邊的按鈕，開始執行傾倒工作。</p>
</li>
<li>
<p>等待傾倒工作完成
<figure>
<center>
<img src="/img/%e9%a1%86%e7%b2%92%e7%8b%80%e4%bb%bb%e6%84%8f%e9%85%8d%e6%af%94%e8%aa%bf%e9%85%8d%e6%a9%9f%e5%99%a8/inprogress.jpg" alt="工作正在進行">
<figcaption>工作正在進行</figcaption>
</center>
</figure></p>
</li>
</ol>
<h2 id="代碼arduino--mixly">代碼（Arduino / Mixly）</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;Wire.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;LiquidCrystal_I2C.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;Keypad.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;Servo.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="nf">HX711_Read</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">extern</span> <span class="kt">long</span> <span class="nf">Get_Weight</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">///定義變量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">float</span> <span class="n">WEIGHT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">HX711_SCK</span> <span class="o">=</span><span class="mi">2</span><span class="p">;</span>   <span class="c1">///     作為輸出口
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">HX711_DT</span><span class="o">=</span> <span class="mi">4</span><span class="p">;</span>    <span class="c1">///     作為輸入口
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">long</span> <span class="n">HX711_Buffer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">long</span> <span class="n">Weight_Maopi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Weight_Shiwu</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> <span class="cp">#define GapValue 405      
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="n">LiquidCrystal_I2C</span> <span class="nf">mylcd</span><span class="p">(</span><span class="mh">0x27</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">test</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">String</span> <span class="n">item</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">SF</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">CS</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">String</span> <span class="n">W</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">Weight</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">SFW</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">CSW</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">volatile</span> <span class="kt">int</span> <span class="n">DMODE</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Servo</span> <span class="n">servo_A2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">Servo</span> <span class="n">servo_A3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">byte</span> <span class="n">KEYPAD_4_4_ROWS</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">byte</span> <span class="n">KEYPAD_4_4_COLS</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">KEYPAD_4_4_hexaKeys</span><span class="p">[</span><span class="n">KEYPAD_4_4_ROWS</span><span class="p">][</span><span class="n">KEYPAD_4_4_COLS</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="sc">&#39;2&#39;</span><span class="p">,</span><span class="sc">&#39;3&#39;</span><span class="p">,</span><span class="sc">&#39;A&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="sc">&#39;4&#39;</span><span class="p">,</span><span class="sc">&#39;5&#39;</span><span class="p">,</span><span class="sc">&#39;6&#39;</span><span class="p">,</span><span class="sc">&#39;B&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="sc">&#39;7&#39;</span><span class="p">,</span><span class="sc">&#39;8&#39;</span><span class="p">,</span><span class="sc">&#39;9&#39;</span><span class="p">,</span><span class="sc">&#39;C&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="sc">&#39;*&#39;</span><span class="p">,</span><span class="sc">&#39;0&#39;</span><span class="p">,</span><span class="sc">&#39;#&#39;</span><span class="p">,</span><span class="sc">&#39;D&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">byte</span> <span class="n">KEYPAD_4_4_rowPins</span><span class="p">[</span><span class="n">KEYPAD_4_4_ROWS</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">13</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">byte</span> <span class="n">KEYPAD_4_4_colPins</span><span class="p">[</span><span class="n">KEYPAD_4_4_COLS</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">Keypad</span> <span class="n">KEYPAD_4_4</span> <span class="o">=</span> <span class="n">Keypad</span><span class="p">(</span><span class="n">makeKeymap</span><span class="p">(</span><span class="n">KEYPAD_4_4_hexaKeys</span><span class="p">),</span> <span class="n">KEYPAD_4_4_rowPins</span><span class="p">,</span> <span class="n">KEYPAD_4_4_colPins</span><span class="p">,</span> <span class="n">KEYPAD_4_4_ROWS</span><span class="p">,</span> <span class="n">KEYPAD_4_4_COLS</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Delete</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">W</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,(</span><span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">W</span> <span class="o">==</span> <span class="s">&#34;&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">W</span> <span class="o">=</span> <span class="s">&#34;0&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Weight</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="n">Weight</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Pour</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">digitalRead</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">Weight</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">CS</span> <span class="o">+</span> <span class="n">SF</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="o">||</span> <span class="n">Weight</span> <span class="o">&gt;=</span> <span class="mi">600</span><span class="p">)</span><span class="c1">//質量為0、多於600g 或 比例之和為小於100均不執行傾倒
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">WEIGHT</span> <span class="o">=</span> <span class="n">Get_Weight</span><span class="p">();</span>  <span class="c1">//計算放在感測器上的重物重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&#34;/ &#34;</span><span class="o">+</span><span class="n">String</span><span class="p">(</span><span class="n">Weight</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">SFW</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">WEIGHT</span> <span class="o">=</span> <span class="n">Get_Weight</span><span class="p">();</span>  <span class="c1">//計算放在感測器上的重物重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&#34;In Progress&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A2</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">55</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A3</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">122</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">WEIGHT</span> <span class="o">=</span> <span class="n">Get_Weight</span><span class="p">();</span>  <span class="c1">//计算放在传感器上的重物重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">while</span> <span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">SFW</span><span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">Weight</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">WEIGHT</span> <span class="o">=</span> <span class="n">Get_Weight</span><span class="p">();</span>  <span class="c1">//計算放在感測器上的重物重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&#34;In Progress&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A2</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A3</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">152</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">WEIGHT</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">Weight</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A2</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">servo_A3</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">122</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">SF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">CS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">W</span> <span class="o">=</span> <span class="s">&#34;0&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&#34;Finished!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Reset</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">W</span> <span class="o">=</span> <span class="s">&#34;0&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">Weight</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Dmode</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">digitalRead</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">SF</span> <span class="o">+</span> <span class="n">CS</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">SF</span> <span class="o">=</span> <span class="n">SF</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">SF</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">CS</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">SF</span> <span class="o">=</span> <span class="n">SF</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">CS</span> <span class="o">=</span> <span class="n">CS</span> <span class="o">-</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">digitalRead</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">SF</span> <span class="o">+</span> <span class="n">CS</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">CS</span> <span class="o">=</span> <span class="n">CS</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">CS</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">SF</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">CS</span> <span class="o">=</span> <span class="n">CS</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="n">SF</span> <span class="o">=</span> <span class="n">SF</span> <span class="o">-</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">long</span> <span class="nf">Get_Weight</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="n">HX711_Buffer</span> <span class="o">=</span> <span class="n">HX711_Read</span><span class="p">();</span>    <span class="c1">///讀取此時的感測器輸出值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="n">Weight_Shiwu</span> <span class="o">=</span> <span class="n">HX711_Buffer</span><span class="p">;</span>     <span class="c1">///將感測器的輸出值儲存
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="n">Weight_Shiwu</span> <span class="o">=</span> <span class="n">Weight_Shiwu</span> <span class="o">-</span> <span class="n">Weight_Maopi</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"> <span class="n">Weight_Shiwu</span> <span class="o">=</span> <span class="p">(</span><span class="kt">long</span><span class="p">)((</span><span class="kt">float</span><span class="p">)</span><span class="n">Weight_Shiwu</span><span class="o">/</span><span class="n">GapValue</span><span class="p">);</span>    <span class="c1">//AD值轉換為重量（g）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="k">return</span> <span class="n">Weight_Shiwu</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">unsigned</span> <span class="kt">long</span> <span class="nf">HX711_Read</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">count</span><span class="p">;</span>   <span class="c1">///儲存輸出值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">i</span><span class="p">;</span>     
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_DT</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>   
</span></span><span class="line"><span class="cl">  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">  <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">HX711_DT</span><span class="p">));</span>   
</span></span><span class="line"><span class="cl">  <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">24</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl">  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">  <span class="n">count</span><span class="o">=</span><span class="n">count</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">;</span>   
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">HX711_DT</span><span class="p">))</span>   
</span></span><span class="line"><span class="cl">  <span class="n">count</span><span class="o">++</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  <span class="p">}</span> 
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>   
</span></span><span class="line"><span class="cl">  <span class="n">count</span> <span class="o">^=</span> <span class="mh">0x800000</span><span class="p">;</span>   
</span></span><span class="line"><span class="cl">  <span class="c1">///对应二进制  1000 0000 0000 0000 0000 0000 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>          
</span></span><span class="line"><span class="cl">  <span class="n">delayMicroseconds</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>  <span class="c1">////延時1微秒  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span><span class="p">(</span><span class="n">count</span><span class="p">);</span>     <span class="c1">///返回感測器讀取值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">servo_A2</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">servo_A3</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="mi">122</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">servo_A2</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">A2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">servo_A3</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">A3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//初始化HX711的两个io口       
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">pinMode</span><span class="p">(</span><span class="n">HX711_SCK</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>  <span class="c1">///SCK為輸出口---輸出脈衝
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">pinMode</span><span class="p">(</span><span class="n">HX711_DT</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span> <span class="c1">///  DT為輸入口---讀取數據
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">mylcd</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">backlight</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&#34;Welcome to use !&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>    <span class="c1">///延時2秒
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">mylcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//获取毛皮重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">Weight_Maopi</span> <span class="o">=</span> <span class="n">HX711_Read</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">  <span class="n">test</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">item</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">SF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">CS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">W</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">Weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">SFW</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">CSW</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">DMODE</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">WEIGHT</span> <span class="o">=</span> <span class="n">Get_Weight</span><span class="p">();</span>  <span class="c1">//計算放在感測器上的重物重量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl">  <span class="n">item</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">KEYPAD_4_4</span><span class="p">.</span><span class="n">getKey</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">DMODE</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Dmode</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">W</span> <span class="o">==</span> <span class="s">&#34;&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">W</span> <span class="o">=</span> <span class="s">&#34;0&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Weight</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;A&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">DMODE</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SF</span> <span class="o">=</span> <span class="mi">90</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">CS</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;B&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">DMODE</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SF</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">CS</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;C&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">DMODE</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SF</span> <span class="o">=</span> <span class="mi">90</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">CS</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;D&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">DMODE</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;#&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Delete</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="o">==</span> <span class="s">&#34;*&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Reset</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">Weight</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">W</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="n">Weight</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="n">W</span><span class="p">).</span><span class="n">toInt</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="s">&#34;WEIGHT:  &#34;</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">Weight</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s">&#34;  g&#34;</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">mylcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="s">&#34;LF: &#34;</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">SF</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s">&#34;%&#34;</span><span class="p">)))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="s">&#34; RT: &#34;</span><span class="p">)</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">CS</span><span class="p">))</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="s">&#34;%&#34;</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">  <span class="n">SFW</span> <span class="o">=</span> <span class="n">round</span><span class="p">((</span><span class="n">Weight</span> <span class="o">*</span> <span class="n">SF</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">CSW</span> <span class="o">=</span> <span class="n">Weight</span> <span class="o">-</span> <span class="n">SF</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">Pour</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>  <span class="c1">//延时100ms 每100ms讀取一次感測器所受壓力
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">mylcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="參考資料">參考資料</h2>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/349835678">https://zhuanlan.zhihu.com/p/349835678</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/93838734">https://zhuanlan.zhihu.com/p/93838734</a></li>
</ol>
]]></content>
		</item>
		
		<item>
			<title>Assemble For Training In 2023</title>
			<link>https://zhongxihao.github.io/posts/assemble-for-training-in-2023/</link>
			<pubDate>Fri, 27 Jan 2023 21:26:34 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/assemble-for-training-in-2023/</guid>
			<description>This is an album of assemble for training in 2023. Start on 27/1/2023, and end on 31/1/2023. The training took place in Taipa Stadium and Lou Hau High School Macao. Except the third day (29/1/2023), took place in Lin Fong Sports Ground and Flora Garden. Last modified at 0:18 1/2/2023. First day (27/1/2023) The first day was surprisingly easy, not tired 😄. The longest distance is 200m *4 and</description>
			<content type="html"><![CDATA[<p>This is an album of assemble for training in 2023. Start on 27/1/2023, and end on 31/1/2023. The training took place in
<a href="https://www.google.com/maps/place/%E5%A5%A5%E6%9E%97%E5%8C%B9%E5%85%8B%E4%BD%93%E8%82%B2%E4%B8%AD%E5%BF%83/@22.1545682,113.5520466,17z/data=!4m9!1m2!2m1!1sMacau+Stadium!3m5!1s0x3401700bbf1a5b37:0xd36ae35b654fe387!8m2!3d22.1545891!4d113.553501!15sCg1NYWNhdSBTdGFkaXVtkgEHc3RhZGl1beABAA">Taipa Stadium</a>
and
<a href="https://www.google.com/maps/place/%E5%8A%B3%E6%A0%A1%E4%B8%AD%E5%AD%A6/@22.209623,113.5389063,17z/data=!3m1!4b1!4m5!3m4!1s0x34017b1ea8f150c5:0x724806f5b3c4972f!8m2!3d22.2096231!4d113.543391">Lou Hau High School Macao</a>.
Except the third day (29/1/2023), took place in <a href="https://www.google.com/maps/place/%E8%8E%B2%E5%B3%B0%E4%BD%93%E8%82%B2%E4%B8%AD%E5%BF%83/@22.2075989,113.5413342,17z/data=!3m1!4b1!4m5!3m4!1s0x34017b1efcce9c21:0x7d737d7fb4f5fdfb!8m2!3d22.2075988!4d113.5458598">Lin Fong Sports Ground</a> and <a href="https://www.google.com/maps/search/Flora+Garden/@22.1545645,113.5192157,13z/data=!3m1!4b1">Flora Garden</a>.<br>
Last modified at <em>0:18 1/2/2023</em>.</p>
<hr>
<p><strong>First day (27/1/2023)</strong></p>
<p>The first day was surprisingly easy, not tired 😄. The longest distance is 200m *4 and all 38s, in Taipa staduim.</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/1a.jpg" alt="First day afternoon">
<figcaption>First day afternoon</figcaption>
</center>
</figure></p>
<hr>
<p><strong>Second day (28/1/2023)</strong></p>
<p>Good morning, and face a tired day&hellip; 200m *6 started from 38s. But, the sunrise at stadium is so beautiful.
<figure>
<center>
<img src="/img/Train-in-2023/2stadium.jpg" alt="Sunrise at stadium">
<figcaption>Sunrise at stadium</figcaption>
</center>
</figure></p>
<p>Emm&hellip; Then, I saw a meteor (actually I am not sure, it may be the space trash) in the sky. It is so wonderful 😍.
<figure>
<center>
<img src="/img/Train-in-2023/2meteor1.jpg" alt="Meteor">
<figcaption>Meteor</figcaption>
</center>
</figure></p>
<p>In the afternoon, hard is coming. Need to use the treadmill to train 🥺, 6s (the fastest)*5 and 2 rounds, 10 mins off. That is really really tired!</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/2a2.jpg" alt="Second day afternoon">
<figcaption>Second day afternoon</figcaption>
</center>
</figure></p>
<hr>
<p><strong>Third day (29/1/2023)</strong></p>
<p>Training in Taipa canceled today and changed into Lin Fong Sports Ground., because KP rented it for training. After the sports meet (19/10~21/10/2022), the first training of starts. So, it was very strange 🥵, I couldn&rsquo;t adapt.</p>
<p>Afternoon training changed to Flora Garden too, because the government rented school for examination. Before we arrived the destination, we had saw some interesting tortoises. They were taking sun bath.</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/3tortoise.jpg" alt="Tortoises were taking sun bath">
<figcaption>Tortoises were taking sun bath</figcaption>
</center>
</figure></p>
<p>After training, we visited Cute Animal Zone, there are many cute animals 😻, such as rabbits, guinea pigs and other small animals.</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/rabbit.jpg" alt="Cute rabbit">
<figcaption>Cute rabbit</figcaption>
</center>
</figure></p>
<hr>
<p><strong>Fourth day (30/1/2023)</strong></p>
<p>Relay training start today 🥳, more latest than other years before since the pandemic. So, the rate of progress was very fast. But we can handle it (confident).</p>
<p>My teammates are: Ho Chon Man, Yang Chek Lon, U Chi Hin, Ng Man Ian 🤗.</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/4relay.jpg" alt="Fourth day morning (relay training)">
<figcaption>Fourth day morning (relay training)</figcaption>
</center>
</figure></p>
<p>And, treadmill traning again in the afternoon, speed endurance this time 😖. Tired again 🤮&hellip;</p>
<hr>
<p><strong>Last day (31/1/2023)</strong></p>
<p>The time zips by, today is the last day. The sunrise is very amazing today, quite nice!</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/5sky.jpg" alt="Cloudy sunrise">
<figcaption>Cloudy sunrise</figcaption>
</center>
</figure></p>
<p>We have the second relay training at stadium, and all smooothly. However, we will go to school tomorrow 😭. So I have to do my homework now.</p>
<p><figure>
<center>
<img src="/img/Train-in-2023/5relay.jpg" alt="Last day morning (relay training)">
<figcaption>Last day morning (relay training)</figcaption>
</center>
</figure></p>
<hr>
<p>Consequently, 9 trainings in 5 days ended, and <a href="/img/Train-in-2023/%E7%AC%AC46%E5%B1%86%E5%AD%B8%E7%95%8C%E7%94%B0%E5%BE%91%E8%B3%BD%E6%97%A5%E7%A8%8B%E8%A1%A82023.pdf">Athletics Competition of Schools Macao</a> will be held on between 3/3 and 5/3/2023. Good luck for everyone 😤!</p>
]]></content>
		</item>
		
		<item>
			<title>MACMO 2023</title>
			<link>https://zhongxihao.github.io/posts/macmo-2023/</link>
			<pubDate>Mon, 16 Jan 2023 23:54:38 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/macmo-2023/</guid>
			<description>共有12题，其中题1-5题为填空题，6-12为证明题。1-7题每题10分，8-12题每题20分. $\textbf{Problem 1. }$ 求$\tan 15^{\circ}$的值</description>
			<content type="html"><![CDATA[<p>共有12题，其中题1-5题为填空题，6-12为证明题。1-7题每题10分，8-12题每题20分.</p>
<hr>
<p>$\textbf{Problem 1. }$ 求$\tan 15^{\circ}$的值.</p>
<p>$Solution. $ 由正切函数的二倍角公式可得$\tan 30^{\circ} = \dfrac{2 \tan 15^{\circ}}{1-\tan ^2 15^{\circ}}$，</p>
<p>解得$\tan 15^{\circ} = 2-\sqrt{3}$.</p>
<p>$\textbf{Problem 2. }$ 已知$xy \neq1$，$yz \neq1$，$zx \neq1$，$xyz \neq1$，求
$$\dfrac{1}{\log_{xy}{xyz}}+\dfrac{1}{\log_{yz}{xyz}}+\dfrac{1}{\log_{zx}{xyz}}.$$</p>
<p>$Solution.$ 由对数的性质可知
$$\dfrac{1}{\log_{xy}{xyz}}=\log_{xyz}{xy},\ \dfrac{1}{\log_{yz}{xyz}}=\log_{xyz}{yz},\ \dfrac{1}{\log_{zx}{xyz}}=\log_{xyz}{zx}$$
则题目可转化为求$\log_{xyz}{xy}+\log_{xyz}{yz}+\log_{xyz}{zx}$的值，即$\log_{xyz}{xyz}^2$，易知答案为2.</p>
<p>$\textbf{Problem 3. }$ 已知$\tan^{-1}x+\tan^{-1}y+\tan^{-1}z = \pi$，求$\dfrac{1}{xy}+\dfrac{1}{yz}+\dfrac{1}{zx}$的值.</p>
<p>$Solution.$ $\tan^{-1}x+\tan^{-1}y+\tan^{-1}z = \pi \Rightarrow \tan^{-1}y+\tan^{-1}z = \pi-\tan^{-1}x $</p>
<p>$\Rightarrow \tan \left( \tan^{-1}y+\tan^{-1}z\right) = \tan \left( \pi-\tan^{-1}x\right) \Rightarrow \dfrac{y+z}{1-yz} = \dfrac{0-x}{1+0}\ $</p>
<p>$\Rightarrow x+y+z=xyz\Rightarrow \dfrac{1}{xy}+\dfrac{1}{yz}+\dfrac{1}{zx}=1$，故答案为1。</p>
<p>$\textbf{Problem 4. }$</p>
<p>$Solution.$</p>
<p>$\textbf{Problem 5. }$ 已知$a,\ b,\ c \in R^+$，求$\dfrac{bc}{2a^2+bc}+\dfrac{ca}{2b^2+ca}+\dfrac{ab}{2c^2+ab}$的最小值.</p>
<p>$Solution.$ 由$a^3+b^3+c^3 \geq 3abc$ 可得 $2a^4bc+2ab^4c+2abc^4 \geq 6a^2b^2c^2$</p>
<p>$\Rightarrow \sum_{cyc}\left( 4b^3c^3 + 2ab^4c + 2abc^4 + a^2b^2c^2 \right) \geq $$$$2a^4bc+2ab^4c+2abc^4+4\left(ab\right)^3+4\left(bc\right)^3+4\left(ca\right)^3+9\left(abc \right)^3$$</p>
<p>$\Rightarrow \sum_{cyc} \left[bc\left(2b^2+ca\right)\left(2a^2+bc\right)\right] \geq \left(2a^2+bc\right)\left(2b^2+ca\right)\left(2c^2+ab\right)$</p>
<p>$\Rightarrow \sum_{cyc} \left[bc\left(2b^2+ca\right)\left(2a^2+bc\right)\right] \geq \left(2a^2+bc\right)\left(2b^2+ca\right)\left(2c^2+ab\right)$</p>
<p>$\Rightarrow \dfrac{bc}{2a^2+bc}+\dfrac{ca}{2b^2+ca}+\dfrac{ab}{2c^2+ab} \geq 1$，故答案为1.</p>
<p>$\textbf{Problem 6. }$ 已知凸四边形$ABCD$，求证</p>
<p>$$max(AB+CD,\ AD+BC) &lt; AC+BD &lt; AB+BC+CD+DA.$$</p>
]]></content>
		</item>
		
		<item>
			<title>切线法求最值</title>
			<link>https://zhongxihao.github.io/posts/%E5%88%87%E7%BA%BF%E6%B3%95%E6%B1%82%E6%9C%80%E5%80%BC/</link>
			<pubDate>Tue, 10 Jan 2023 22:15:19 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/%E5%88%87%E7%BA%BF%E6%B3%95%E6%B1%82%E6%9C%80%E5%80%BC/</guid>
			<description>切线法用于易猜到等号成立的条件的不等式问题 步骤 假设函数$f(x)$，并求出其导数$f^{&amp;rsquo;}(x)$。代入等号成立条件. 得出该点</description>
			<content type="html"><![CDATA[<p>切线法用于易猜到等号成立的条件的不等式问题</p>
<hr>
<h2 id="步骤">步骤</h2>
<ol>
<li>
<p>假设函数$f(x)$，并求出其导数$f^{&rsquo;}(x)$。代入等号成立条件.</p>
</li>
<li>
<p>得出该点的切线斜率，并列出点斜式，代入该点.</p>
</li>
<li>
<p>按照题目的符号填入并累加即可.</p>
</li>
</ol>
<h2 id="例题">例题</h2>
<ol>
<li>已知$a,\ b,\ c\in R^+$，且$a+b+c = 3$，求证：$\dfrac{1}{a^2+a}+\dfrac{1}{b^2+b}+\dfrac{1}{c^2+c}\geq \dfrac{3}{2}$.</li>
</ol>
<p>$\textbf{证明}$：设$f(x) = \dfrac{1}{x^2+x}$，则$f^{&rsquo;}(x) = -\dfrac{2x+1}{\left(x^2+x\right)^2}$，</p>
<p>不难猜到等号成立条件为$a=b=c=1$，代入$x=1$得$f^{&rsquo;}(1)=-\dfrac{3}{4}$.</p>
<p>设该点的切线方程为$y-y_0 = -\dfrac{3}{4}\left(x-x_0\right)$，代入$x_0=1,\ y_0=\dfrac{1}{2}$，得$y=-\dfrac{3}{4}x+\dfrac{5}{4}$.</p>
<p>由此得出$\dfrac{1}{x^2+x}\geq -\dfrac{3}{4}x+\dfrac{5}{4}$.</p>
<p>$\therefore \sum_{cyc} \dfrac{1}{a^2+a} \geq -\dfrac{3}{4}\sum_{cyc}a+\dfrac{15}{4}=\dfrac{3}{2}$.</p>
<h2 id="习题">习题</h2>
<ol>
<li>已知$a,\ b,\ c\in R^+$，且$abc=1$，求证：$\dfrac{1}{a^2+a}+\dfrac{1}{b^2+b}+\dfrac{1}{c^2+c}\geq \dfrac{3}{2}$.</li>
</ol>
<p>$\textbf{证明}$：$LHS = \dfrac{\left(bc\right)^2}{1+bc}+\dfrac{\left(ac\right)^2}{1+ac}+\dfrac{\left(ab\right)^2}{1+ab}$，即证$\sum_{cyc} \dfrac{\left(ab\right)^2}{1+ab} \geq \dfrac{3}{2}$.</p>
<p>设$f(x) = \dfrac{x^2}{x+1}$，则$f^{&rsquo;}(x) = \dfrac{x^2+2x}{\left(x+1\right)^2}=1-\dfrac{1}{\left(x+1\right)^2}$，</p>
<p>不难猜到等号成立条件为$ab=bc=ac=1$，代入$x=1$得$f^{&rsquo;}(1)=\dfrac{3}{4}$.</p>
<p>设该点的切线方程为$y-y_0 = \dfrac{3}{4}\left(x-x_0\right)$，代入$x_0=1,\ y_0=\dfrac{1}{2}$，得$y=\dfrac{3}{4}x-\dfrac{1}{4}$.</p>
<p>由此得出$\dfrac{x^2}{x+1}\geq \dfrac{3}{4}x-\dfrac{1}{4}$.</p>
<p>$\therefore \sum_{cyc} \dfrac{\left(ab\right)^2}{1+ab} \geq \dfrac{3}{4}\sum_{cyc}bc-\dfrac{3}{4}\geq \dfrac{3}{4}\cdot3\sqrt[3]{a^2b^2c^2} -\dfrac{3}{4}=\dfrac{3}{2}$.</p>
]]></content>
		</item>
		
		<item>
			<title>最小值与两点距离</title>
			<link>https://zhongxihao.github.io/posts/%E6%9C%80%E5%B0%8F%E5%80%BC%E4%B8%8E%E4%B8%A4%E7%82%B9%E8%B7%9D%E7%A6%BB/</link>
			<pubDate>Mon, 09 Jan 2023 23:46:45 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/%E6%9C%80%E5%B0%8F%E5%80%BC%E4%B8%8E%E4%B8%A4%E7%82%B9%E8%B7%9D%E7%A6%BB/</guid>
			<description>已知：$x+y=12$，求$\sqrt{{x}^2+4}+\sqrt{{y}^2+9}$ 的最小值. 这里使用一种比较特殊的解法：解析几何中的两</description>
			<content type="html"><![CDATA[<p>已知：$x+y=12$，求$\sqrt{{x}^2+4}+\sqrt{{y}^2+9}$ 的最小值.</p>
<p>这里使用一种比较特殊的解法：解析几何中的两点距离公式.</p>
<p>将$y=12-x$ 代入 $\sqrt{x^2+4}+\sqrt{y^2+9}$，得：
$\sqrt{x^2+4}+\sqrt{\left(x-12\right)^2+9}$.</p>
<p>配成两点距离公式：$\sqrt{\left(x-0\right)^2+\left(0-2\right)^2}+\sqrt{\left(x-12\right)^2+\left(0-3\right)^2}$.</p>
<p>进行数形结合易知上式是点$(x,\ 0)$到点$(0,\ 2)$和点$(12,\ 3)$的距离之和.</p>
<p>作点$(12,\ 3)$的对称点$(12,\ -3)$，不难发现，当$(x,\ 0)$位于点$(0,\ 2)$和对称点$(12,\ -3)$的连线上时，距离之和最小 （<a href="https://www.geogebra.org/classic/wv2zpcza">图片</a>）.</p>
<p>故其距离之和最小值为点$(0,\ 2)$和点$(12,\ -3)$的距离，即13.</p>
<p>等号成立条件为$x=\dfrac{24}{5},\ y=\dfrac{36}{5}$.</p>
]]></content>
		</item>
		
		<item>
			<title>My First Post</title>
			<link>https://zhongxihao.github.io/posts/my-first-post/</link>
			<pubDate>Sun, 08 Jan 2023 00:46:15 +0800</pubDate>
			
			<guid>https://zhongxihao.github.io/posts/my-first-post/</guid>
			<description>Here is the first post of my blog. I don&amp;rsquo;t know how long will it update, so Let nature take its course. I am very excited to create my own website, but it does not public. Emm&amp;hellip; Just record the life and some interest.</description>
			<content type="html"><![CDATA[<p>Here is the first post of my blog.</p>
<p>I don&rsquo;t know how long will it update, so Let nature take its course.<br>
I am very excited to create my own website, but it does not public.</p>
<p>Emm&hellip; Just record the life and some interest.</p>
]]></content>
		</item>
		
	</channel>
</rss>
